(()=>{"use strict";(()=>{const e=document.querySelector(".modal-callback"),t=document.querySelector(".modal-overlay");document.addEventListener("click",(l=>{let s=l.target;s.closest(".callback-btn")||s.closest(".absolute")||s.closest(".button-services")?(t.style.display="block",e.style.display="block"):!s.closest(".modal-close")&&s.closest(".modal-callback")||(t.style.display="none",e.style.display="none")}))})(),document.querySelectorAll(".top-menu a").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.currentTarget.getAttribute("href");window.scrollTo({top:document.querySelector(t).offsetTop,behavior:"smooth"})}))})),(()=>{const e=document.querySelector(".up");window.addEventListener("scroll",(()=>{(window.pageYOffset||document.documentElement.scrollTop)>800?e.classList.add("smooth-scroll--active"):e.classList.remove("smooth-scroll--active")})),e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))})(),document.querySelectorAll(".accordeon .element").forEach((e=>{e.addEventListener("click",(t=>{let l=t.target;l.closest(".active")?(e.classList.remove("active"),e.querySelector(".element-content").style.display="none"):l.closest(".active")||(e.classList.add("active"),e.querySelector(".element-content").style.display="block")}))})),(()=>{const e=document.querySelectorAll(".item"),t=(document.querySelector(".slick-dots"),document.querySelectorAll(".top-slider .table"));if(e.forEach((e=>{e.style.position="absolute",e.style.width="100%"})),screen.width>=320){let l,s=0,o=["slide1","slide2","slide3"];const c=(e,t,l)=>{e[t].classList.remove(l),e[t].style.background=""},r=(e,l,s)=>{e[l].classList.add(s),o.forEach(((e,l)=>{t[l].style.cssText=`\n            background: url("images/${e}.jpg") 50% 50% / cover no-repeat;`}))},n=()=>{c(t,s,"active"),c(e,s,"relative"),s++,s>=e.length&&(s=0),r(t,s,"active"),r(e,s,"relative")};((e=3e3)=>{l=setInterval(n,e)})()}})(),(()=>{const e=document.querySelector(".services-section .container"),t=e.querySelector(".services-elements"),l=e.querySelector(".services-carousel"),s=l.querySelectorAll(".col-md-4"),o=l.querySelectorAll(".element"),c=document.querySelector(".arrow-right"),r=document.querySelector(".arrow-left");if(t.style.overflow="hidden",l.style.cssText="\n        display: flex;\n        transition: .2s;\n    ",l.style.marginLeft="-20px",screen.width<=860){let t=0;const n=1,a=1,i=o.length,d=e.clientWidth/n,u=a*d;s.forEach((e=>{e.style.width=`${d}px`})),o.forEach((e=>{e.style.minWidth=`${d}px`})),c.addEventListener("click",(()=>{const e=i-(Math.abs(t)+n*d)/d;t-=e>=a?u:e*d,m()})),r.addEventListener("click",(()=>{const e=Math.abs(t)/d;t+=e>=a?u:e*d,m()}));const m=()=>{l.style.transform=`translateX(${t}px)`}}else{let t=0;const n=3,a=3,i=o.length,d=e.clientWidth/n,u=a*d;s.forEach((e=>{e.style.width=`${d}px`})),o.forEach((e=>{e.style.minWidth=`${d}px`})),c.addEventListener("click",(()=>{const e=i-(Math.abs(t)+n*d)/d;t-=e>=a?u:e*d,m()})),r.addEventListener("click",(()=>{const e=Math.abs(t)/d;t+=e>=a?u:e*d,m()}));const m=()=>{l.style.transform=`translateX(${t}px)`}}})(),(()=>{const e=document.querySelectorAll("[name=fio]"),t=document.querySelectorAll("[name=tel]"),l=e=>{e.value=e.value.replace(/\s+/g," "),e.value=e.value.replace(/\-+/g,"-");let t=new RegExp("ReGeX"+e.value+"ReGeX");/^[/ /-]/.test(t)&&(e.value=e.value.replace(/^[/ /-]/,"")),/[/ /-]$/.test(t)&&(e.value=e.value.replace(/[/ /-]$/,""))},s=(e,t,l="Введите корректные данные")=>{""!==e.value&&(e.value.match(t)||(alert(l),e.value=""))};e.forEach((e=>{e.addEventListener("blur",(()=>{l(e),e.value=e.value.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" "),s(e,/[A-Za-zА-Яа-яЁё]{2,}/g)}))})),t.forEach((e=>{e.addEventListener("blur",(()=>{l(e),s(e,/\+?(\d){2,16}$/g)}))}))})(),(()=>{const e=e=>{[...document.getElementById(e).elements].filter((e=>"button"!==e.tagName.toLowerCase()&&"button"!==e.type)).forEach((e=>e.value=""))},t=()=>{const e=document.querySelector(".success"),t=document.querySelector(".modal-overlay"),l=document.querySelector(".modal-callback");setTimeout((()=>{e.remove(),t.style.display="none",l.style.display="none"}),2e3)};(s=>{const o=document.getElementById("form1"),c=document.createElement("div"),r=document.createElement("img");c.className="success",c.style.cssText="\n            font-size: 2rem;\n            color: red;\n        ",r.height=50,o.addEventListener("submit",(s=>{s.preventDefault();const n=new FormData(o);let a={};n.forEach(((e,t)=>{a[t]=e})),""===a.fio||""===a.tel?alert("Write correct data"):(c.textContent="Загрузка...",r.src="./images/wait/wait.gif",c.insertBefore(r,c.firstChild),o.appendChild(c),l(a).then((()=>{c.textContent="Спасибо! Мы скокро с вами свяжемся!",r.src="./images/wait/success.png",c.insertBefore(r,c.firstChild),e("form1"),t()})).catch((l=>{c.textContent="Что-то пошло не так...",r.src="./images/wait/error.png",c.insertBefore(r,c.firstChild),e("form1"),t(),console.error(l)})))}))})();const l=e=>new Promise(((t,l)=>{const s=new XMLHttpRequest;s.addEventListener("readystatechange",(()=>{4===s.readyState&&(200===s.status?t():l(s.status))})),s.open("POST","server.php"),s.setRequestHeader("Content-type","application/json"),s.send(JSON.stringify(e))}))})()})();